- type: entity
  abstract: true
  parent: ClothingBeltBase
  id: CMBeltBase
  components:
  - type: Sprite
    layers:
    - state: icon
    - state: closed
      map: [ "closedLayer" ]
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.SharedBagOpenVisuals.BagState:
        openLayer:
          Open: { visible: true }
          Closed: { visible: false }
        closedLayer:
          Open: { visible: false }
          Closed: { visible: true}
  - type: Storage
    maxItemSize: Small
    grid:
    - 0,0,8,1
  - type: Item
    size: Large
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: []
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface

- type: entity
  abstract: true
  parent: ClothingBeltStorageBase
  id: CMStorageFillBase
  components:
  - type: Sprite
    sprite: _CM\Clothing\Belt\knife.rsi
    layers:
    - state: icon
    - map: [ "enum.StorageContainerVisualLayers.Fill" ]
      visible: false
  - type: Clothing
    sprite: _CM\Clothing\Belt\knife.rsi
    quickEquip: false
    slots:
    - belt
  - type: Storage
    grid:
    - 0,0,1,4
    maxItemSize: Small
  - type: Appearance
  - type: StorageContainerVisuals
    maxFillLevels: 4
    fillBaseName: fill-

- type: entity
  parent: CMBeltBase
  id: CMBeltMarine
  name: CMBeltMarine name
  description: CMBeltMarine desc
  components:
  - type: Sprite
    sprite: _CM\Clothing\Belt\marinebelt.rsi
  - type: Clothing
    sprite: _CM\Clothing\Belt\marinebelt.rsi
  - type: Storage
    maxItemSize: Small
    grid:
    - 0,0,8,1

- type: entity
  parent: CMBeltBase
  id: CMBeltMedical
  name: CMBeltMedical name
  description: CMBeltMedical desc
  components:
  - type: Sprite
    sprite: _CM\Clothing\Belt\medical.rsi
  - type: Clothing
    sprite: _CM\Clothing\Belt\medical.rsi
  - type: Storage
    grid:
    - 0,0,8,1
    maxItemSize: Normal
    whitelist:
      tags:
      - DiscreteHealthAnalyzer
      - GlassBeaker
      - Bottle
      - PillCanister
      - Syringe
      - Bloodpack
      - Brutepack
      - Gauze
      - Ointment
      - CMTraumaKit
      - CMBurnKit
      components:
      - Hypospray
      - Defibrillator
# TODO CMCorvax проверить актуальность тегов для вайтлиста всем предметам с компонентом Storage

- type: entity
  parent: CMBeltMedical
  id: CMBeltMedicBag
  name: CMBeltMedicBag name
  description: CMBeltMedicBag desc
  components:
  - type: Sprite
    sprite: _CM\Clothing\Belt\medicbag.rsi
  - type: Clothing
    sprite: _CM\Clothing\Belt\medicbag.rsi
  - type: Storage
    grid:
    - 0,0,13,1
  - type: ClothingSpeedModifier
    walkModifier: 1
    sprintModifier: 0.95
  - type: HeldSpeedModifier

- type: entity
  parent: CMBeltBase
  id: CMBeltSecurity
  name: M276 pattern military police rig
  description: The M276 is the standard load-bearing equipment of the USCM. It consists of a modular belt with various clips. This configuration is commonly seen among USCM Military Police and peacekeepers, though it can hold some light munitions.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Belt\security.rsi
  - type: Clothing
    sprite: _CM\Clothing\Belt\security.rsi
  - type: Storage
    maxItemSize: Normal
    whitelist:
      tags:
      - SecBeltEquip
      - Taser
      - Flashlight
      components:
      - Handcuff
      - Flash
      - FlashOnTrigger
      - Stunbaton
      - ForensicScanner

- type: entity
  parent: CMBeltBase
  id: CMBeltUtility
  name: M276 pattern toolbelt rig
  description: The M276 is the standard load-bearing equipment of the USCM. It consists of a modular belt with various clips. This version lacks any combat functionality, and is commonly used by engineers to transport important tools.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Belt\utility.rsi
  - type: Clothing
    sprite: _CM\Clothing\Belt\utility.rsi
  - type: Storage
    maxItemSize: Normal
    whitelist:
      tags:
      - Crowbar
      - Screwdriver
      - Wrench
      - Wirecutter
      - CableCoil
      - Multitool
      - Flashlight
      components:
      - Welder
      - EntrenchingTool
      - TrayScanner
      - GasAnalyzer

- type: entity
  parent: CMStorageFillBase
  id: CMBeltKnife
  name: CMBeltKnife name
  description: CMBeltKnife desc
  components:
  - type: Sprite
    sprite: _CM\Clothing\Belt\knife.rsi
  - type: Clothing
    sprite: _CM\Clothing\Belt\knife.rsi
  - type: Storage
    grid:
    - 0,0,7,1
    maxItemSize: Small
    whitelist:
      tags:
      - Knife

- type: entity
  parent: CMStorageFillBase
  id: CMBeltShell
  name: CMBeltShell name
  description: CMBeltShell desc
  components:
  - type: Sprite
    sprite: _CM\Clothing\Belt\shotgun.rsi
  - type: Clothing
    sprite: _CM\Clothing\Belt\shotgun.rsi
  - type: Storage
    grid:
    - 0,0,4,5
    maxItemSize: Small
    whitelist:
      tags:
      - ShellShotgun

# TODO CMCorvax перенести все holster
# Holster
- type: entity
  parent: CMBeltBase
  id: CMHolsterXM51
  name: CMHolsterXM51 name
  description: CMHolsterXM51 desc
  components:
  - type: Sprite
    sprite: _CM\Clothing\Belt\holster_xm51.rsi
    state: sheath
  - type: Clothing
    sprite: _CM\Clothing\Belt\holster_xm51.rsi
  - type: ItemSlots
    slots:
      item:
        name: Shotgun
        insertVerbText: sheath-insert-verb
        ejectVerbText: sheath-eject-verb
        whitelist:
          tags:
          - CMWeaponShotgunXM51
  - type: ItemMapper
    mapLayers:
      icon-sheath:
        whitelist:
          tags:
          - CMWeaponShotgunXM51
  - type: Appearance
  - type: Tag
    tags:
    - Pouch
