# TODO CMCorvax снять коммменты со всех строк после перехода на сборку
- type: entity
  abstract: true
  parent: Clothing
  id: CMPouch
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\small_drop.rsi
    layers:
    - state: icon
    - state: open
      map: [ "openLayer" ]
    - state: closed
      map: [ "closedLayer" ]
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.SharedBagOpenVisuals.BagState:
        openLayer:
          Open: { visible: true }
          Closed: { visible: false }
        closedLayer:
          Open: { visible: false }
          Closed: { visible: true }
  - type: Item
    size: Large
  - type: Clothing
    quickEquip: false
    slots:
    - pocket
  - type: Storage
    maxItemSize: Small
    grid:
    - 0,0,1,1
    blacklist:
      tags:
      - CMPouch
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: [ ]
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface
  - type: Tag
    tags:
    - CMPouch

- type: entity
  abstract: true
  parent: CMPouch
  id: CMPouchFillBase
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\medium_ammo_shell.rsi
    layers:
    - state: icon
    - map: [ "enum.StorageContainerVisualLayers.Fill" ]
      visible: false
  - type: Storage
    grid:
    - 0,0,1,4
    maxItemSize: Small
    whitelist:
      tags:
      - ShellShotgun
  - type: Appearance
  - type: StorageContainerVisuals
    maxFillLevels: 3
    fillBaseName: fill-

- type: entity
  parent: CMPouch
  id: CMPouchGeneral
  name: light general pouch
  description: A general-purpose pouch used to carry a small item, or two tiny ones.
  components:
  - type: Storage
    maxItemSize: Small
    grid:
    - 0,0,3,2
  # - type: Storage
  #   blacklist:
  #     components:
  #     - Bible
  #     tags:
  #     - CMFirstAidKit
  #     - CMBoxStorage
# TODO CMCorvax задать специфику для каждой сумки

- type: entity
  parent: CMPouchGeneral
  id: CMPouchGeneralMedium
  name: medium general pouch
  description: A general-purpose pouch used to carry a variety of differently sized items.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\medium_drop.rsi
  - type: Storage
    grid:
    - 0,0,4,2

- type: entity
  parent: CMPouchGeneral
  id: CMPouchGeneralLarge
  name: large general pouch
  description: A general-purpose pouch used to carry more differently sized items.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\large_drop.rsi
  - type: Storage
    grid:
    - 0,0,5,3

- type: entity
  parent: CMPouch
  id: CMPouchM11Knife
  name: throwing knife sheath
  description: Knife to meet you!
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\knife.rsi
  - type: Storage
    maxItemSize: Small
    grid:
    - 0,0,4,1
    whitelist:
      tags:
      - Knife

- type: entity
  parent: CMPouch
  id: CMPouchFirstAid
  name: first-aid pouch
  description: It contains, by default, autoinjectors. But it may also hold ointments, bandages, and pill packets.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\firstaid.rsi
  - type: Storage
    grid:
    - 0,0,7,1
    whitelist:
      tags:
      - Ointment
      - CMAutoInjector
      - Brutepack
      - CMTraumaKit
      - CMBurnKit
      - Bloodpack
      components:
      - Pill

- type: entity
  parent: CMPouch
  id: CMPouchCommand
  name: command pouch
  description: A specialized, sturdy pouch issued to Commanding Officers. Can hold their sidearm, the command tablet and a set of binoculars.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\command.rsi
  - type: Storage
    grid:
    - 0,0,5,4
    whitelist:
      tags:
      - Sidearm
      # todo cm14 binoculars and CO tablet

- type: entity
  parent: CMPouch
  id: CMPouchMagazine
  name: magazine pouch
  description: It can carry magazines.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\small_ammo_mag.rsi
  - type: Storage
    maxItemSize: Normal
    grid:
    - 0,0,3,1
    whitelist:
      tags:
      - CMMagazines

- type: entity
  parent: CMPouchMagazine
  id: CMPouchMagazineMedium
  name: magazine pouch medium
  description: It can carry magazines medium
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\medium_ammo_mag.rsi
  - type: Storage
    maxItemSize: Normal
    grid:
    - 0,0,5,1

- type: entity
  parent: CMPouchMagazine
  id: CMPouchMagazineLarge
  name: large magazine pouch
  description: It can carry many magazines.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\large_ammo_mag.rsi
  - type: Storage
    grid:
    - 0,0,7,1

- type: entity
  parent: CMPouch
  id: CMPouchExplosive
  name: explosive pouch
  description: It can carry grenades, plastic explosives, mine boxes, and other explosives.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\explosive.rsi
  - type: Storage
    maxItemSize: Normal
    grid:
    - 0,0,5,1
    whitelist:
      tags:
      - Grenade
      - LauncherCompatibleGrenade

- type: entity
  parent: CMPouch
  id: CMPouchMedical
  name: tactical medical pouch
  description: A heavy pouch containing everything one needs to get themselves back on their feet. Quite the selection.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\medkit.rsi
  - type: Storage
    maxItemSize: Large
    grid:
    - 0,0,7,2
    whitelist:
      tags:
      - DiscreteHealthAnalyzer
      - Pill
      - Bottle
      - Syringe
      - PillCanister
      - CMTraumaKit
      - CMBurnKit
      - Ointment
      - Gauze
      - Brutepack
      - Bloodpack
      - CMAutoInjector
      - CMSurgicalLine
      - CMSynthGraft

- type: entity
  parent: CMPouch
  id: CMPouchAutoinjector
  name: auto-injector pouch
  description: A pouch specifically for auto-injectors.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\injectors.rsi
  - type: Storage
    grid:
    - 0,0,5,1
  #   whitelist:
  #     tags:
  #     - CMAutoInjector

- type: entity
  parent: CMPouch
  id: CMPouchSyringe
  name: syringe pouch
  description: It can carry syringes.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\syringe.rsi
  - type: Storage
    grid:
    - 0,0,3,1
    whitelist:
      tags:
      - Syringe

- type: entity
  parent: CMPouch
  id: CMPouchFlare
  name: flare pouch
  description: A pouch designed to hold flares. Refillable with an M94 flare pack.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\flare.rsi
  - type: Storage
    maxItemSize: Small
    grid:
    - 0,0,3,1
    whitelist:
      tags:
      - Flare

- type: entity
  parent: CMPouch
  id: CMPouchConstruction
  name: construction pouch
  description: It's designed to hold construction materials - glass/metal sheets, metal rods, barbed wire, cable coil, and empty sandbags. It also has two hooks for an entrenching tool and light replacer.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\construction.rsi
  - type: Storage
    maxItemSize: Normal
    grid:
    - 0,0,3,3
    whitelist:
      tags:
      - Sheet
      - RodMetal1
      - CableCoil
      components:
      - BarbedWire
      - FloorTile
      - EntrenchingTool
      - EmptySandbag
      - LightReplacer

- type: entity
  parent: CMPouch
  id: CMPouchTools
  name: tools pouch
  description: It's designed to hold maintenance tools - screwdriver, wrench, cable coil, etc. It also has a hook for an entrenching tool or light replacer.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\tools.rsi
  - type: Storage
    maxItemSize: Normal
    grid:
    - 0,0,3,1
    whitelist:
      tags:
      - Crowbar
      - Screwdriver
      - Wrench
      - Wirecutter
      - CableCoil
      - PowerCell
      - Multitool
      - Flashlight
      components:
      - Welder
      - ComputerBoard
      - MachineBoard
      - MachinePart
      - LightReplacer
      - EntrenchingTool

- type: entity
  parent: [ Clothing, ClothingSlotBase ]
  id: CMPouchMachete
  name: H6B pattern M2132 machete scabbard
  description: A large leather scabbard used to carry a M2132 machete. It can be strapped to the pouch slot.
  components:
  - type: Sprite
    sprite: _CM\Clothing\Pouches\machete.rsi
    state: sheath
  - type: Clothing
    sprite: _CM\Clothing\Pouches\machete.rsi
    quickEquip: false
    slots:
    - pocket
  - type: ItemSlots
    slots:
      item:
        name: Machete
        insertVerbText: sheath-insert-verb
        ejectVerbText: sheath-eject-verb
        whitelist:
          tags:
          - Machete
  - type: ItemMapper
    mapLayers:
      sheath-machete:
        whitelist:
          tags:
          - Machete
  - type: Appearance
  - type: Tag
    tags:
    - Pouch

- type: entity
  parent: CMPouchFillBase
  id: CMPouchShellMedium
  name: CMPouchShellMedium name
  description: CMPouchShellMedium desc
  components:
  - type: Storage
    grid:
    - 0,0,3,4
    maxItemSize: Small
    whitelist:
      tags:
      - ShellShotgun
